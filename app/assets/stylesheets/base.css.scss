@import "compass/css3";
@import "reset";

$site-width: 920px;
$site-border-color: #ccc;
$site-aux-text-color: #999;

body, input, label, select, option, textarea, button, fieldset, legend {
   font: {
      family: "Hiragino Sans GB", "Microsoft Yahei", arial, sans-serif;
      size: 12px;
   }
   color: #333;
}

a {
   $link_color: #158d9f;
   color: $link_color;
   text-decoration: none;

   &:hover {
      color: $link_color;
   }

   &:visited {
      color: $link_color;
      outline: none;
   }
}

:-moz-placeholder {
   color: #ccc;
}

::-webkit-input-placeholder {
   color: #ccc;
}

body {
   background: image-url("bg.gif")
}

.people_thumb_small {
   width: 30px;
   height: 30px;
}

.people_thumb_big {
   width: 80px;
   height: 80px;
}

/* .brand_thumb_small { */
/*    width: 40px; */
/*    height: 40px; */
/* } */

/* .brand_thumb_big { */
/*    width: 80px; */
/*    height: 80px; */
/* } */

@mixin clearfix {
   &:before, &:after {
      content: "";
      display: table;
   }
   &:after {
      clear: both;
   }
   zoom: 1;
}

@mixin inline-edit-input {
   border: none;
   outline: none;
   background-color: #ffc;
}

@mixin button_style {
   border: 1px solid #ccc;
   color: $site-aux-text-color;
   @include background(linear-gradient(#fff, #ddd));
   @include border-radius(3px);

   &:hover {
      font-weight:bold;
      @include box-shadow(0 1px 2px rgba(0, 0, 0, 0.25), 0 0 3px #FFFFFF inset);
   }

   &:active {
      @include box-shadow(0 1px 2px #AAAAAA inset);
   }
}

@mixin loading-small {
   background: image-url("loader-small.gif") no-repeat center;
}

button {
   @include button_style;
   margin: 0 5px;
   width: 80px;
   height: 30px;

   &:active {
      padding-left: 2px;
   }
}

.weibo {
   display: inline-block;
   text-indent: -1000em;
   width: 20px;
   height: 20px;
   // Weibo icon as background
}

table {
   width: 100%;

   tr {
      line-height: 2em;

      th, td {
         font-size: 1.2em;
         text-align: center;
      }

      &:nth-child(even) {
         background-color: #f4f4f4;
      }
   }
}

nav.pagination {
   text-align: right;
   padding: 10px;
}

.edit_tips {
   display: inline-block;
   background-color: #ffc;
   color: $site-aux-text-color;
   padding: 3px;
   vertical-align: 5px;
}

/* header */

body.signed_in > header {
   $header-text-color: $site-aux-text-color;

   position: fixed;
   z-index: 100;
   top: 0;
   left: 0;
   right: 0;
   height: 50px;
   @include background(linear-gradient(#fff, #f4f4f4));
   @include box-shadow(0 1px 2px #ccc);

   > nav {
      margin: 0 auto;
      width: $site-width+40px;
      color: $header-text-color;

      #logo {
         float: left;
         margin-top: 11px;
         opacity: 1;

         img:hover{
            opacity: 0.6;
         }
      }

      ul#navigator {
         float: left;
         width: 50%;
         margin-left: 10%;

         > li {
            float: left;
            width: 25%;

            a {
               display: inline-block;
               width: 100%;
               color: $header-text-color;
               line-height: 51px;
               text-align: center;

               &:hover {
                  color: white;
                  @include background(linear-gradient(#999, #333));
               }
            }
         }
      }

      #current_user {
         float: right;
         position: relative;
         margin-right: -2px;
         padding: 10px 15px 10px 20px;
         width: 15%;
         background: image-url("current_user_menu.png") no-repeat 90% center;

         img {
            vertical-align: middle;
         }

         strong {
            color: $header-text-color;
            margin: 0 2px 0 6px;
            vertical-align: middle;
         }

         > ul {
            position: absolute;
            margin-top: 10px;
            width: 100%;
            left: -1000em;

            li {
               text-align: center;

               a {
                  display: inline-block;
                  width: 99%;
                  line-height: 40px;
                  border: 1px solid #ccc;
                  border-top: none;
                  color: $header-text-color;
                  @include background(linear-gradient(white, #f4f4f4));

                  &:hover {
                     color: white;
                     border-color: #999;
                     background: #999;
                  }
               }
            }
         }

         &:hover {
            @include background(image-url("current_user_menu_open.png") no-repeat 90% center,
                        linear-gradient(#999, #333));

            strong {
               color: white;
            }

            > ul {
               left: 0;
            }
         }
      }
   }
}

.no-boxshadow body > header.signed_in {
   border-bottom: 1px solid #999;
}

/* section */

body.signed_in > section {
   position: relative;
   width: $site-width;
   margin: 70px auto 0 auto;
   padding: 20px;
   background-color: white;
   border: 1px solid #ccc;
   @include box-shadow(0 1px 3px #999);

   > header {
      position: relative;
      margin-bottom: 20px;
      border-bottom: 1px solid $site-border-color;
      padding-bottom: 20px;

      > h1 {
         display: inline-block;
         margin: 0;
         font-size: 1.2em;
         color: $site-aux-text-color;
      }

      > nav {
         display: inline-block;
         padding-left: 5px;

         a {
            margin-right: 5px;

            &:before {
               content: "\00b7";
               padding-right: 8px;
               font-weight: normal;
            }
         }

         .current {
            color: $site-aux-text-color;
            font-weight:bold;
         }
      }
   }
}

/* footer */

body.signed_in > footer {
   height: 100px;
}

/* evaluations */

ul.evaluation {
   li {
      * {display: inline-block;}

      .eva_name {
         background: #333;
         color: white;
         vertical-align: bottom;
         text-align: center;
      }

      .eva_container {
         .eva_points {
            @include transition(width 1s, opacity 0.22s ease-out);
            @include border-radius(2px);
            @include opacity(1);
            &:hover{
               @include opacity(0.8);
            }
         }
      }
   }

   li.sensibility {
      .eva_container {
         background: #f8e5e7;
         .eva_points {
            @include background(linear-gradient(left center, #f66, #c66));
         }
      }
      .eva_display_points {
         color: #f66;
      }
   }

   li.rationality {
      .eva_container {
         background: #edf5fe;
         .eva_points {
            @include background(linear-gradient(left center, #39f, #06f));
         }
      }
      .eva_display_points {
         color: #39f;
      }
   }

   li.economy {
      .eva_container {
         background: #f9ffeb;
         .eva_points {
            @include background(linear-gradient(left center, #9c3, #6c3));
         }
      }
      .eva_display_points {
         color: #9c3;
      }
   }
}


/*file upload*/

#dropzone {
   margin: 20px 0;
   width: 50%;
   height: 20%;
   border: 1px dashed $site-border-color;
   text-align: center;
   color: $site-aux-text-color;
   p {margin: 15% auto;}
}

#dropzone.dragover {
   background-color: #ffc;
}

#dropzone.submitting {
   @include loading-small;
}

#dropzone.success {
   color: #9c3;
}

#dropzone.fail {
   color: #f66;
}
