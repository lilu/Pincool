@import "base";

.author {
   color: $site-aux-text-color;

   img {
      float: left;
      margin-right: 10px;
   }

   time {
      color: $site-aux-text-color;
   }
}

@mixin triangle {
   content: "";
   display: block;
   position: absolute;
   width: 0;
   height: 0;
}

#post_show {
   $width: 720px;
   $edit-bg-color: #ffc;

   width: $width;

   .inline_edit {
      background: $edit-bg-color;
   }

   .error_message {
      color: #f66;
      margin: 0 2em;
   }

   > *, > form > * {margin-bottom: 20px}

   &:after {
      @include triangle;
      top: 0;
      left: 0;
      border: {
         left: 20px solid transparent;
         bottom: 20px solid transparent;
      }
   }
   &.review:after {
      border-left-color: #4694fd;
   }
   &.feeling:after {
      border-left-color: #f7646a;
   }

   #post-title {
      h1 {
         display: inline;
         font-size: 1.7em;
         color: #777;
         vertical-align: bottom;
         &:hover {background: $edit-bg-color;}
      }

      input {
         display: none;
         width: 80%;
         font-weight:bold;
         font-size: 1.7em;
         color: $site-aux-text-color;
         border: 1px solid #ddd;
         border-radius: 3px;
         padding: 5px;
      }
   }

   #post-evas {
      ul.evaluation {
         display: inline-block;
         width: 68%;

         li {
            line-height: 50px;
            margin-top: 5px;

            .eva_name {
               width: 14%;
               margin-right: 5px;
               font-size: 1.2em;
            }

            .eva_container {
               position: relative;
               width: 74%;

               .eva_point {
                  position: absolute;
                  left: 0;
                  z-index: 1000;
               }
               .eva_rating {
                  @include opacity(0.6);
               }
            }

            .eva_display_points {
               font-size: 1.2em;
               margin-left: 1em;
            }
         }
      }

      .edit_tips {vertical-align: middle;}
   }

   #post-photos {
      margin-top: 20px;

      #change_photo_link, #change_photo_form {
         display: none;
         margin-bottom: 10px;
      }

      #imagezone {
         color: $site-aux-text-color;
         img {
            max-width: $width - 10px;
            border: 5px solid #fff;
            @include box-shadow(0 1px 5px #666);
            &:hover {@include opacity(0.9);}
         }
      }

      #dropzone {
         display: none;
         width: 60%;
         height: 200px;
      }
   }

   #post-content {
      p {
         display: inline;
         font-size: 1.1em;
         line-height: 1.6em;
         &:hover {background: $edit-bg-color;}
      }

      textarea {
         display: none;
         border: 1px solid #ddd;
         border-radius: 3px;
         width: 97%;
         height: 6em;
         padding: 5px;
         line-height: 1.6em;
         color: #777;
         font-size: 1em;
         resize: vertical;
      }

      .edit_tips {
         vertical-align:1px;
      }
   }

   .action {
      text-align: right;
      > * {vertical-align: bottom;}
   }

   footer {
      #destroy {
         float: right;
         margin-right: 2em;
      }
   }
}

#articles {
   position: relative;
   margin: 0 auto;

   > header {
      margin-bottom: 20px;
      > h1 {@include section-head;}
      > nav {@include section-nav;}
   }

   article.post {
      position: absolute;
      padding: 20px 20px 0;
      line-height: 1.5;
      border: 1px solid #ccc;
      background:#f8f8f8;

      &:hover{background: #fff;}

      &:after {
         @include triangle;
         top: 0;
         right: 0;
         border-right: 20px solid white;
         border-left: 20px solid transparent;
         border-bottom: 20px solid transparent;
      }

      > section {
         img, h1, ul, p {margin-bottom: 10px;}

         img {
            max-width: 100%;
            @include transition(all 0.2s ease-out);
            &:hover {@include opacity(0.9);}
         }

         h1 {
            font-size: 1.2em;
            font-weight: normal;
            color: #777;
         }

         ul.evaluation {
            width: 100%;

            > li {
               width: 100%;
               margin-bottom: .5em;
               .eva_container {width: 100%;}
               .eva_points {height: 30px;}
            }
         }
      }

      > footer {
         line-height: 1.4;
         margin-bottom: 10px;
      }
   }

   article.review:after {
      border-right-color: #4694fd;
   }
   article.feeling:after {
      border-right-color: #f7646a;
   }

   .posts_loading {
      width: 100%;
      height: 5em;
      @include loading-small;
   }
}

#gototop {
   display: none;
   position: fixed;
   bottom: 5%;
   right: 5%;
   width: 50px;
   height: 50px;
   background: transparent url("goto_top.png") no-repeat center center;
   cursor: pointer;
}

#explore > #articles > header {
   background-color: #ffc;
   border-bottom: 1px solid #CCCCCC;
   text-align: center;
   line-height: 40px;
   margin: -20px -20px 40px;
}
